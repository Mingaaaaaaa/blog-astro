---
import Divider from './Divider.astro';
import HeaderLink from './HeaderLink.astro';
---

<header>
  <style>
    header {
      margin: 1.2em auto 0 auto;
      padding: 0 1em;
      border-radius: 12px;
      max-width: 720px;
      width: 90vw;
      display: flex;
      justify-content: center;
      nav {
        width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        font-size: 0.9em;
        .logo {
          margin: 0;
          font-size: 1.2em;
          color: var(--text);
          flex-shrink: 0;
          cursor: pointer;
          font-weight: 600;
        }
        .internal-links {
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: nowrap;
          gap: 1em;
        }
        a {
          color: var(--text-secondary);
          border-bottom: 2px solid transparent;
          text-decoration: none;
          transition: color 0.2s;
        }
        a.active {
          border-bottom-color: var(--accent);
        }
        .header-actions {
          display: flex;
          gap: 1em;
          align-items: center;
          .icon-github {
            width: 22px;
            height: 22px;
          }
          .icon-github-sun,
          .icon-moon {
            display: block;
          }
          .icon-github-dark,
          .icon-sun {
            display: none;
          }

          .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.3em;
            border-radius: 50%;
            color: var(--text-secondary);
            transition:
              background 0.2s,
              color 0.2s;
            margin-left: 0.5em;
          }
        }
      }
    }
    @media (max-width: 720px) {
      header {
        max-width: 98vw;
        padding: 0 0.5em;
        nav {
          .logo {
            display: none;
          }
          .internal-links {
            gap: 1em;
            justify-content: space-between;
          }
          .header-actions {
            justify-content: space-between;
            align-items: center;
            gap: 1em;
          }
        }
      }
    }
  </style>
  <nav>
    <div class='logo'><a href='/'>Alplune's Blog</a></div>
    <div class='internal-links'>
      <HeaderLink href='/'>首页</HeaderLink>
      <HeaderLink href='/blog'>博客</HeaderLink>
      <HeaderLink href='/about'>关于</HeaderLink>
    </div>
    <div class='header-actions'>
      <div class='social-links'>
        <a href='https://github.com/Mingaaaaaaa' target='_blank'>
          <img
            class='icon-github icon-github-sun'
            src='/github-mark.svg'
            alt='GitHub'
          />
          <img
            class='icon-github icon-github-dark'
            src='/github-mark-white.svg'
            alt='GitHub'
          />
        </a>
      </div>
      <button
        class='theme-toggle'
        onclick='window.toggleTheme && window.toggleTheme()'
      >
        <img class='icon-moon' src='/dark_mode.svg' alt='Dark Mode' />
        <img class='icon-sun' src='/light_mode.svg' alt='Light Mode' />
      </button>
    </div>
  </nav>
</header>
<Divider />
